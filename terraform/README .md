# Главный модуль Terraform

Этот модуль служит для создания инфраструктуры Kubernetes-кластера в Yandex Cloud. Он объединяет два модуля:

- `network`: создаёт сеть, подсеть и группу безопасности.
- `k8s`: разворачивает Kubernetes-кластер и конфигурирует группы узлов.

## Структура

- `modules/`
  - `network/`: модуль для настройки сети.
  - `k8s/`: модуль для настройки Kubernetes-кластера.
- `variables.tf`: входные переменные проекта.
- `main.tf`: основной конфигурационный файл Terraform.
- `outputs.tf`: выходные переменные для удобного доступа к данным.

## Использование

1. Инициализируйте Terraform:

   ```bash
   terraform init
   ```

2. Просмотрите план изменений:

   ```bash
   terraform plan
   ```

3. Примените изменения:

   ```bash
   terraform apply
   ```

## Переменные

- **Сервисные аккаунты**: 
  - `service_account_key_file`: Путь к ключу сервисного аккаунта.
  - `user_id`: ID сервисного пользователя.
- **Сеть**:
  - `network_name`: Имя сети.
  - `zone`: Зона для создания ресурсов.
- **Кластер**:
  - `name_cluster`: Имя Kubernetes-кластера.
  - `node_mem`, `node_cpu`, `core_fraction`: Ресурсы узлов кластера.

## Выходные данные

- `network_id`: ID созданной сети.
- `subnet_id`: ID созданной подсети.
- `k8s_cluster_id`: ID созданного Kubernetes-кластера.
